<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Nabnation Top 100</title>

  <!-- Basic SEO -->
  <meta name="description" content="Nabnation Top 100 — a weekly Last.fm-based music chart with chart history and artist pages." />

  <!-- Open Graph / Discord embeds -->
  <meta property="og:site_name" content="Nabnation Top 100" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Nabnation Top 100" />
  <meta property="og:description" content="Weekly chart powered by Last.fm scrobbles. Click songs to see chart history and browse artist pages." />
  <meta property="og:url" content="https://nabnation.netlify.app/" />
  <meta property="og:image" content="https://nabnation.netlify.app/assets/icon.webp" />
  <meta property="og:image:type" content="image/webp" />
  <meta property="og:image:width" content="512" />
  <meta property="og:image:height" content="512" />

  <!-- Twitter / X -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Nabnation Top 100" />
  <meta name="twitter:description" content="Weekly chart powered by Last.fm scrobbles." />
  <meta name="twitter:image" content="https://nabnation.netlify.app/assets/icon.webp" />

  <!-- Favicon -->
  <link rel="icon" href="assets/icon.webp" type="image/webp" />
  <link rel="apple-touch-icon" href="assets/icon.webp" />

  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- HEADER -->
  <header class="topbar">
    <a class="brand" href="/" aria-label="Home">
      <img class="brandIcon" src="assets/icon.webp" alt="" />
    </a>

    <div class="headMain">
      <div class="headLeft">
        <h1 id="chartTitle">Nabnation Top 100</h1>
        <div class="subrow">
          <div id="weekLabel" class="week">Week of —</div>
          <select id="weekSelect" class="weekSelect" title="Select week"></select>
        </div>
      </div>

      <div class="headRight">
        <div class="searchWrap">
          <input
            id="artistSearch"
            class="searchInput"
            type="search"
            placeholder="Search artist…"
            autocomplete="off"
          />
          <div id="searchResults" class="searchResults hidden"></div>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="wrap">
    <div class="table-head">
      <div>Rank</div>
      <div>Song</div>
      <div class="right">LW / Peak / Weeks</div>
    </div>

    <ol id="chart" class="chart" aria-label="Nabnation Top 100"></ol>

    <!-- LAST.FM SUBMISSION -->
    <section class="submitBox" aria-label="Submit a Last.fm profile">
      <h2>Submit your Last.fm profile</h2>
      <p class="muted">
        Want your scrobbles included? Submit your Last.fm profile link.
        Submissions are anonymous and manually reviewed.
      </p>

      <form
        class="submitForm"
        action="https://formspree.io/f/xvzpbrgb"
        method="POST"
      >
        <label class="label" for="lfm">Last.fm profile link</label>
        <input
          id="lfm"
          name="lastfm_profile"
          class="searchInput"
          type="url"
          placeholder="https://www.last.fm/user/YourName"
          required
          pattern="https?://(www\.)?last\.fm/user/[^/]+/?"
        />

        <label class="label" for="note">Optional note</label>
        <input
          id="note"
          name="note"
          class="searchInput"
          type="text"
          placeholder="Anything you want to add (optional)"
          maxlength="160"
        />

        <!-- honeypot for bots -->
        <input type="text" name="_gotcha" style="display:none" />

        <button class="btnPrimary" type="submit">Send</button>

        <p class="mutedSmall">
          By submitting, you’re asking to be considered for next week’s chart.
        </p>
      </form>
    </section>

    <!-- FOOTER -->
    <footer class="foot">
      <span id="footInfo"></span>
    </footer>
  </main>

  <!-- SCRIPT -->
  <script src="chart.js"></script>
</body>
</html>
